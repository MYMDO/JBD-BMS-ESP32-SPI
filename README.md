# üîã JBD BMS Wi-Fi Monitor (ESP32)

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –¥–æ–∑–≤–æ–ª—è—î –º–æ–Ω—ñ—Ç–æ—Ä–∏—Ç–∏ —Å—Ç–∞–Ω –∞–∫—É–º—É–ª—è—Ç–æ—Ä–Ω–æ—ó –∑–±—ñ—Ä–∫–∏ —á–µ—Ä–µ–∑ **JBD (Xiaoxiang) BMS** –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –º—ñ–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞ **ESP32**. 

–°–∏—Å—Ç–µ–º–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –¥–∞–Ω—ñ –Ω–∞ **OLED –¥–∏—Å–ø–ª–µ—ó** —Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞—î –ª–æ–∫–∞–ª—å–Ω–∏–π **–≤–µ–±-—Å–µ—Ä–≤–µ—Ä** –∑ –≥–∞—Ä–Ω–∏–º –∞–¥–∞–ø—Ç–∏–≤–Ω–∏–º —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º ("Soft Dark UI").

![License](https://img.shields.io/badge/license-MIT-blue.svg) ![Platform](https://img.shields.io/badge/platform-ESP32-orange.svg)

## ‚ú® –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

* **üìä –°—É—á–∞—Å–Ω–∏–π –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
    * –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –Ω–∞–ø—Ä—É–≥–∏, —Å—Ç—Ä—É–º—É, –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ, SOC, —á–∞—Å—É –¥–æ —Ä–æ–∑—Ä—è–¥—É/–∑–∞—Ä—è–¥—É.
    * –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø–æ –∫–æ–º—ñ—Ä–∫–∞—Ö (–Ω–∞–ø—Ä—É–≥–∞, –±–∞–ª–∞–Ω—Å—É–≤–∞–Ω–Ω—è, –¥–µ–ª—å—Ç–∞).
    * **–†–æ–∑—à–∏—Ñ—Ä–æ–≤–∫–∞ –ø–æ–º–∏–ª–æ–∫:** –í—ñ–¥–æ–±—Ä–∞–∂–∞—î –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É –ø—Ä–∏—á–∏–Ω—É –∑–∞—Ö–∏—Å—Ç—É (Overvoltage, Short Circuit, Temp Error —Ç–æ—â–æ).
    * –õ—ñ—á–∏–ª—å–Ω–∏–∫ —Ü–∏–∫–ª—ñ–≤ –∑–∞—Ä—è–¥—É.
    * –ê–¥–∞–ø—Ç–∏–≤–Ω–∏–π –¥–∏–∑–∞–π–Ω (Dark Mode), –ø—Ä–∞—Ü—é—î –±–µ–∑ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É (–≤—Å—ñ —Å—Ç–∏–ª—ñ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ).
* **üìü –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ OLED (SPI):** –í–∏–≤–æ–¥–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —Ç–∞ —Å—Ç–∞—Ç—É—Å Wi-Fi –Ω–∞ –µ–∫—Ä–∞–Ω SH1106 (1.3").
* **‚òÅÔ∏è OTA –û–Ω–æ–≤–ª–µ–Ω–Ω—è:** –ü—Ä–æ—à–∏–≤–∫–∞ "–ø–æ –ø–æ–≤—ñ—Ç—Ä—é" –±–µ–∑ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∫–∞–±–µ–ª—é.
* **üí§ –ï–Ω–µ—Ä–≥–æ–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è:**
    * –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø–µ—Ä–µ—Ö—ñ–¥ —É **Deep Sleep**, —è–∫—â–æ –Ω–µ–º–∞—î —Å—Ç—Ä—É–º—É –ø—Ä–æ—Ç—è–≥–æ–º 5 —Ö–≤–∏–ª–∏–Ω.
    * –ü—Ä–æ–±—É–¥–∂–µ–Ω–Ω—è –∫–Ω–æ–ø–∫–æ—é –∞–±–æ –ø–æ —Ç–∞–π–º–µ—Ä—É (–∫–æ–∂–Ω—ñ 30 —Ö–≤ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏).
    * –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –¥–∞—î –ø—Ä–∏—Å—Ç—Ä–æ—é –∑–∞—Å–Ω—É—Ç–∏, –ø–æ–∫–∏ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∞.
* **üõ°Ô∏è –ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å:** –í–±—É–¥–æ–≤–∞–Ω–∏–π Watchdog Timer (WDT) –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –≤—ñ–¥ –∑–∞–≤–∏—Å–∞–Ω—å.

## üõ†Ô∏è –ê–ø–∞—Ä–∞—Ç–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è

1.  **ESP32** (DevKit V1 –∞–±–æ –∞–Ω–∞–ª–æ–≥) ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –≤–µ—Ä—Å—ñ—è –∑ 16MB Flash (–∞–ª–µ –ø—Ä–∞—Ü—é—î —ñ –Ω–∞ 4MB).
2.  **JBD BMS** (Smart BMS –∑ UART –ø–æ—Ä—Ç–æ–º).
3.  **OLED –î–∏—Å–ø–ª–µ–π 1.3"** (–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä SH1106, —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å SPI).
4.  **–ö–Ω–æ–ø–∫–∞** (—Ç–∞–∫—Ç–æ–≤–∞, –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ä–æ–∑—ñ–º–∫–Ω–µ–Ω–∞).
5.  **–ê–∫—Ç–∏–≤–Ω–∏–π –ë—É–∑–µ—Ä** (–ø–∏—â–∞–ª–∫–∞).
6.  **DC-DC –ø–µ—Ä–µ—Ç–≤–æ—Ä—é–≤–∞—á** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, LM2596) –¥–ª—è –∂–∏–≤–ª–µ–Ω–Ω—è ESP32 –≤—ñ–¥ –∞–∫—É–º—É–ª—è—Ç–æ—Ä–∞.

### üîå –°—Ö–µ–º–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è (Pinout)

| –ü—Ä–∏—Å—Ç—Ä—ñ–π | –ü—ñ–Ω –ø—Ä–∏—Å—Ç—Ä–æ—é | –ü—ñ–Ω ESP32 (GPIO) | –ü—Ä–∏–º—ñ—Ç–∫–∞ |
| :--- | :--- | :--- | :--- |
| **JBD BMS** | TX | 16 (RX2) | –ß–µ—Ä–µ–∑ —Ä—ñ–≤–Ω—ñ –ª–æ–≥—ñ–∫–∏, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ |
| **JBD BMS** | RX | 17 (TX2) | |
| **OLED** | MOSI (SDA) | 23 | VSPI MOSI |
| **OLED** | CLK (SCL) | 18 | VSPI CLK |
| **OLED** | DC | 2 | |
| **OLED** | CS | 5 | |
| **OLED** | RST | 4 | |
| **–ö–Ω–æ–ø–∫–∞** | 1 pin | 15 | –î—Ä—É–≥–∏–π –∫–æ–Ω—Ç–∞–∫—Ç –Ω–∞ GND |
| **–ë—É–∑–µ—Ä** | + | 13 | –ê–∫—Ç–∏–≤–Ω–∏–π –±—É–∑–µ—Ä |

> **‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ:** –ó–µ–º–ª—ñ (GND) ESP32 —Ç–∞ BMS –º–∞—é—Ç—å –±—É—Ç–∏ –∑'—î–¥–Ω–∞–Ω—ñ (—á–µ—Ä–µ–∑ DC-DC –ø–µ—Ä–µ—Ç–≤–æ—Ä—é–≤–∞—á —Ü–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ).

## üíª –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### 1. –í–∏–º–æ–≥–∏
–í–∞–º –∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è **Arduino IDE** –∑ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–º —è–¥—Ä–æ–º **ESP32** (–≤–µ—Ä—Å—ñ—è 3.0+).

### 2. –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∏
–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –Ω–∞—Å—Ç—É–ø–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ —á–µ—Ä–µ–∑ Library Manager:
* `Adafruit GFX Library`
* `Adafruit SH110X` (–¥–ª—è –¥–∏—Å–ø–ª–µ—è SH1106)
* `ArduinoOTA`
* `WebServer`

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ–¥—É
–í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ñ–∞–π–ª `.ino` —ñ –∑–º—ñ–Ω—ñ—Ç—å –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ Wi-Fi –Ω–∞ –ø–æ—á–∞—Ç–∫—É:
```cpp
const char* ssid = "YOUR_WIFI_SSID";
const char* password = "YOUR_WIFI_PASSWORD";